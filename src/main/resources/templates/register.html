<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>新規登録 - 予約管理システム</title>
	<link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
	<div class="container">
		<h1>新規登録</h1>

		<!-- エラーメッセージ -->
		<div th:if="${error}" class="error-message">
			<span th:text="${error}"></span>
		</div>

		<!-- 成功メッセージ -->
		<div th:if="${success}" class="success-message">
			<span th:text="${success}"></span>
			<p style="margin-top: 15px;">
				<a th:href="@{/login}" class="button" style="display: inline-block;">ログインページへ</a>
			</p>
		</div>

		<!-- 登録フォーム（成功メッセージがない場合のみ表示） -->
		<form th:unless="${success}" method="post" th:action="@{/register}">
			<p>
				<label for="name">名前 <span style="color: red;">*</span></label>
				<input type="text" id="name" name="name" required placeholder="山田太郎">
			</p>

			<p>
				<label for="email">メールアドレス <span style="color: red;">*</span></label>
				<input type="email" id="email" name="email" required placeholder="example@example.com">
			</p>

			<p>
				<label for="password">パスワード <span style="color: red;">*</span></label>
				<input type="password" id="password" name="password" required placeholder="6文字以上" minlength="6">
			</p>

			<p>
				<label for="confirmPassword">パスワード確認 <span style="color: red;">*</span></label>
				<input type="password" id="confirmPassword" name="confirmPassword" required placeholder="パスワードを再入力">
			</p>

			<p>
				<label for="role">役割 <span style="color: red;">*</span></label>
				<select id="role" name="role" required>
					<option value="">-- 選択してください --</option>
					<option value="CUSTOMER">顧客</option>
					<option value="STAFF">スタッフ</option>
					<option value="ADMIN">管理者</option>
				</select>
			</p>

			<div class="button-group">
				<button type="submit">登録</button>
				<a th:href="@{/login}" class="button secondary">ログインページへ</a>
			</div>
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
		</form>

		<p style="text-align: center; margin-top: 30px; color: #666;">
			既にアカウントをお持ちですか？
			<a th:href="@{/login}"
				style="color: var(--primary-color); text-decoration: none; font-weight: bold;">ログインはこちら</a>
		</p>
	</div>
</body>

</html>